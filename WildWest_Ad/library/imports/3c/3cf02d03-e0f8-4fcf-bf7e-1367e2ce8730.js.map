{"version":3,"sources":["assets/script/qiuScript/qiuItsOwnScript.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import GameManager from \"./GameManager\";\nimport qiuCollisionScript, { QiuInfo } from \"./qiuCollisionScript\";\nimport qiuMoveScript from \"./qiuMoveScript\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class qiuItsOwnScript extends cc.Component {\n\n\n    @property(cc.Material)\n    garyMaterial: cc.Material = null;\n\n\n    @property(cc.Prefab)\n    destroyBoom: cc.Prefab = null;\n\n    // onLoad () {}\n\n    start() {\n\n    }\n\n    init(info: QiuInfo) {\n        console.log(\"init\",info);\n        this.node.getComponent(qiuCollisionScript).initData(info.index);\n        this.node.setPosition(info.pos)\n\n        if (info.rigidBodyType == cc.RigidBodyType.Dynamic) {\n            this.node.getComponent(qiuMoveScript).isCollsion = true;\n            this.node.getComponent(cc.RigidBody).type = cc.RigidBodyType.Dynamic;\n            this.node.getComponent(cc.RigidBody).linearVelocity = info.speed;\n            this.node.getComponent(cc.RigidBody).awakeOnLoad = true;\n        }\n        else {\n            GameManager.Instance.targetQiu = this.node;\n            GameManager.Instance.tempQiu = this.node;\n        }\n    }\n\n    selfDestroy(callBack) {\n        this.node.getChildByName(\"qiu\").getComponent(cc.Sprite).setMaterial(0, this.garyMaterial);\n        this.node.getChildByName(\"txt\").getComponent(cc.Sprite).setMaterial(0, this.garyMaterial);\n\n        let boomNode = cc.instantiate(this.destroyBoom);\n\n        boomNode.getComponent(cc.ParticleSystem).startSize = this.node.width * 3.0 / 4;\n\n        boomNode.getComponent(cc.ParticleSystem).endSize = this.node.width * 1.0 / 16;\n\n        boomNode.getComponent(cc.ParticleSystem).endRadius = this.node.width * 0.8;\n\n        boomNode.getComponent(cc.ParticleSystem).endRadiusVar = this.node.width * 0.8 * 0.1;\n\n        boomNode.setPosition(this.node.position);\n        this.node.parent.addChild(boomNode);\n\n        this.node.getComponent(cc.PhysicsCircleCollider).radius = 0;\n        this.node.getComponent(cc.PhysicsCircleCollider).apply();\n        cc.tween(this.node)\n            .parallel(\n                cc.tween().to(0.25, { scale: 0 }),\n                cc.tween().delay(0.1).call(() => {\n                    if (callBack) {\n                        callBack();\n                    }\n                })\n            )\n            .call(() => {\n                this.node.destroy();\n            })\n            .start()\n    }\n\n    // update (dt) {}\n}\n"]}
{"version":3,"sources":["assets/script/ButtonSafe.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AACM,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAwC,8BAAY;IAApD;QAAA,qEAgCC;QA7BG,cAAQ,GAAW,GAAG,CAAC;QAEvB,iBAAW,GAAG,IAAI,CAAC;;QA0BnB,iBAAiB;IACrB,CAAC;IAzBG,0BAAK,GAAL;QAAA,iBAsBC;QArBG,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;QAC1C,IAAI,CAAC,MAAM,EAAC;YACR,OAAO;SACV;QACD,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;QAEtC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE;YAClB,MAAM,CAAC,WAAW,GAAG,EAAE,CAAC;YACxB,KAAI,CAAC,YAAY,CAAC,UAAC,EAAE;gBACjB,MAAM,CAAC,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC;YAC1C,CAAC,EAAE,KAAI,CAAC,QAAQ,CAAC,CAAC;YAElB,0CAA0C;YAC1C,8CAA8C;YAC9C,uCAAuC;YACvC,+BAA+B;YAC/B,4BAA4B;YAC5B,8CAA8C;YAC9C,kCAAkC;YAClC,qBAAqB;QACzB,CAAC,EAAE,IAAI,CAAC,CAAC;IACb,CAAC;IA1BD;QADC,QAAQ;gDACc;IAHN,UAAU;QAD9B,OAAO;OACa,UAAU,CAgC9B;IAAD,iBAAC;CAhCD,AAgCC,CAhCuC,EAAE,CAAC,SAAS,GAgCnD;kBAhCoB,UAAU","file":"","sourceRoot":"/","sourcesContent":[" \nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class ButtonSafe extends cc.Component {\n\n    @property \n    safeTime: number = 0.5; \n\n    clickEvents = null;\n\n    start () {\n        let button = this.getComponent(cc.Button);\n        if (!button){\n            return;\n        }\n        this.clickEvents = button.clickEvents;\n\n        this.node.on('click', ()=>{\n            button.clickEvents = [];\n            this.scheduleOnce((dt)=>{\n                button.clickEvents = this.clickEvents;\n            }, this.safeTime);\n\n            // mark: 这种方式会导致快速点击按钮时触摸穿透（按钮禁用时不再接受触摸事件）\n            // let autoGrey = button.enableAutoGrayEffect;\n            // button.enableAutoGrayEffect = false;\n            // button.interactable = false;\n            // this.scheduleOnce((dt)=>{\n            //     button.enableAutoGrayEffect = autoGrey;\n            //     button.interactable = true;\n            // }, this.safeTime);\n        }, this);\n    }\n\n    // update (dt) {}\n}\n"]}
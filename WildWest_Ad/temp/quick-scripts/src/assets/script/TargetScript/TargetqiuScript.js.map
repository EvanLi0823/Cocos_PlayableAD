{"version":3,"sources":["assets/script/TargetScript/TargetqiuScript.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import gameConfig from \"../gameConfig\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class TargetqiuScript extends cc.Component {\n\n    @property(cc.Sprite)\n    qiuSprite: cc.Sprite = null;\n\n    @property(cc.Sprite)\n    txtSprite: cc.Sprite = null;\n\n    isFinsh:boolean = false;\n\n    qiuSize = 150;\n    txtSize = 40;\n\n    private _numberCount: number = 0\n    set numberCount(numberCount) {\n        this._numberCount = numberCount;\n       \n        this.qiuSize = 150 * (1 + 0.1 * (numberCount - 4));\n        this.txtSize = 40 * (1 + 0.1 * (numberCount - 4));\n\n        this.loadQiuSpirte().then(() => {\n            this.qiuSprite.node.width = this.qiuSize;\n            this.qiuSprite.node.height = this.qiuSize;\n        });\n\n        this.loadTxtSpirte().then(() => {\n            let scale = this.txtSize * 1.0 / this.txtSprite.spriteFrame.getOriginalSize().height;\n            this.txtSprite.node.height = this.txtSize;\n            this.txtSprite.node.width = this.txtSprite.spriteFrame.getOriginalSize().width * scale;\n        }) \n\n       \n        \n    }\n\n    get numberCount() {\n        return this._numberCount;\n    }\n\n    async loadQiuSpirte() {\n\n        return new Promise((resolve) => {\n            cc.resources.load(`img/qiu/ball_n${Math.pow(2, this._numberCount+1)}a`, cc.SpriteFrame, (err, res) => {\n                if (res) {\n                    this.qiuSprite.spriteFrame = res as cc.SpriteFrame; \n                    resolve(1); \n                }\n            });\n        })\n    }\n\n    async loadTxtSpirte() {\n        return new Promise((resolve) => {\n            cc.resources.load(`img/txt/txt_${Math.pow(2, this._numberCount+1)}`, cc.SpriteFrame, (err, res) => {\n                if (res) {\n                    this.txtSprite.spriteFrame = res as cc.SpriteFrame;\n                    resolve(1); \n                }\n            });\n        })\n    }\n\n    // onLoad () {}\n\n    start() {\n\n    }\n\n    // update (dt) {}\n\n    movieCompleteScaleAnim() {\n        let scale = 115.0 / 150; \n\n        this.node.scale = 1;\n        let qiuNode = this.qiuSprite.node;\n        let txtNode = this.txtSprite.node;\n\n        qiuNode.width = 150;\n        qiuNode.height = 150;\n\n        let txtscale = 40.0 / this.txtSprite.spriteFrame.getOriginalSize().height;\n        txtNode.height = 40;\n        txtNode.width = this.txtSprite.spriteFrame.getOriginalSize().width * txtscale;\n\n        cc.tween(qiuNode)\n            .to(0.25, { scale: 0.8 })\n            .delay(0.1)\n            .to(0.2, { scale: 0.3 })\n            .to(0.2, { scale: 1.1 })\n            .to(0.15, { scale: scale })\n            .delay(0.1)\n            .call(() => { \n                if(this._numberCount < 10){\n                    this.loadDataFixSize(++this._numberCount);\n                } \n            })\n            .start()\n\n        cc.tween(txtNode)\n            .to(0.15, { scale: 0.8 })\n            .delay(0.2)\n            .to(0.25, { scale: 0.3 })\n            .to(0.2, { scale: 1.1 })\n            .to(0.15, { scale: scale })\n            .start()\n\n    }\n\n    loadDataFixSize(number){\n        this._numberCount = number;\n        this.loadQiuSpirte().then(() => {\n            this.qiuSprite.node.width = 150;\n            this.qiuSprite.node.height = 150;\n        });\n\n        this.loadTxtSpirte().then(() => {\n            let scale = 40.0 / this.txtSprite.spriteFrame.getOriginalSize().height;\n            this.txtSprite.node.height = 40;\n            this.txtSprite.node.width = this.txtSprite.spriteFrame.getOriginalSize().width * scale;\n        })\n\n        gameConfig.setTargetLevel(number);\n        // console.log(`targetNumberCount : ${number}`);\n    }\n}\n"]}